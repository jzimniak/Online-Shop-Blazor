// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace OnlineShop.Pages
{
    #line hidden
    using System;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using OnlineShop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using OnlineShop.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using OnlineShop.Pages;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using OnlineShop.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\_Imports.razor"
using Functions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\Pages\ProductPage.razor"
using Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\Pages\ProductPage.razor"
using System.Collections.Generic;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\Pages\ProductPage.razor"
using OnlineShop.Components.ProductPage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\Pages\ProductPage.razor"
using Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\Pages\ProductPage.razor"
using OnlineShop.Components.ProductList;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\Pages\ProductPage.razor"
using Microsoft.AspNetCore.Hosting;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/c/{Category:int}/{ProductID:int}")]
    public partial class ProductPage : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 303 "C:\Users\jarek\Desktop\BlazorProject (Shop)\Project\OnlineShop\OnlineShop\Pages\ProductPage.razor"
       
    [Parameter]
    public int Category { get; set; }
    [Parameter]
    public int ProductID { get; set; }

    private Product<Processor> Processor { get; set; }
    private Product<Disc> Disc { get; set; }
    private Product<ComputerCase> ComputerCase { get; set; }
    private Product<Motherboard> Motherboard { get; set; }
    private Product<GraphicCard> GraphicCard { get; set; }
    private Product<Ram> Ram { get; set; }
    private Product<Radiator> Radiator { get; set; }
    private Product<PowerSupply> PowerSupply { get; set; }

    private List<string[]> path { get; set; }
    private string Name { get; set; }
    private string[] Photo { get; set; }
    private float Price { get; set; }
    private int items { get; set; }
    private string[,] attributes { get; set; }

    private Opinions opinion { get; set; }

    protected async override Task OnInitializedAsync()
    {
        Refresh_Component.productPage = this;
        path = new List<string[]>();
        path.Add(new string[] { "Strona główna", "" });
        items = 1;
        opinion = await Additional_Functions.Read_Opinion_From_JSON(ProductID,env);
        switch (Category)
        {
            case 1:
                List<Product<Processor>> Processors = await Additional_Functions.Read_Processors_From_JSON( env);
                Processor = Processors.Find(x => x.Id == ProductID);
                Name = Processor.Name;
                Photo = Processor.Attributes.Photo;
                Price = Processor.Price;
                attributes = Additional_Functions.Convert_Attributes_To_Two_Dim_Array(Processor);
                path.Add(new string[] { "Procesory", "c/1" });
                path.Add(new string[] { "Procesory " + Processor.Brand, "c/1?brand=" + Processor.Brand });
                path.Add(new string[] { Processor.Attributes.Family, "c/1?brand=" + Processor.Brand + "&family=" + Processor.Attributes.Family });
                break;
            case 2:
                List<Product<ComputerCase>> ComputerCases = await Additional_Functions.Read_Computercases_From_JSON(env);
                ComputerCase = ComputerCases.Find(x => x.Id == ProductID);
                Name = ComputerCase.Name;
                Photo = ComputerCase.Attributes.Photo;
                Price = ComputerCase.Price;
                attributes = Additional_Functions.Convert_Attributes_To_Two_Dim_Array(ComputerCase);
                path.Add(new string[] { "Obudowy", "c/2" });
                path.Add(new string[] { "Obudowy " + ComputerCase.Attributes.Type, "c/2?casetype=" + ComputerCase.Attributes.Type });
                break;
            case 3:
                List<Product<Disc>> Discs = await Additional_Functions.Read_Discs_From_JSON(env);
                Disc = Discs.Find(x => x.Id == ProductID);
                Name = Disc.Name;
                Photo = Disc.Attributes.Photo;
                Price = Disc.Price;
                attributes = Additional_Functions.Convert_Attributes_To_Two_Dim_Array(Disc);
                path.Add(new string[] { "Dyski", "c/3" });
                path.Add(new string[] { "Dyski " + Disc.Attributes.Type, "c/3?disctype=" + Disc.Attributes.Type });
                path.Add(new string[] { "Dyski" + Disc.Attributes.Format, "c/3?disctype=" + Disc.Attributes.Type + "&discformat=" + Disc.Attributes.Format });
                break;
            case 4:
                List<Product<GraphicCard>> GraphicCards = await Additional_Functions.Read_GraphicCards_From_JSON(env);
                GraphicCard = GraphicCards.Find(x => x.Id == ProductID);
                Name = GraphicCard.Name;
                Photo = GraphicCard.Attributes.Photo;
                Price = GraphicCard.Price;
                attributes = Additional_Functions.Convert_Attributes_To_Two_Dim_Array(GraphicCard);
                path.Add(new string[] { "Karty Graficzne", "c/4" });
                path.Add(new string[] { "Karty " + GraphicCard.Attributes.Producent, "c/4?producent=" + GraphicCard.Attributes.Producent });
                path.Add(new string[] { GraphicCard.Attributes.Graphics_processing, "c/4?producent=" + GraphicCard.Attributes.Producent + "&processor=" + GraphicCard.Attributes.Graphics_processing });
                break;
            case 5:
                List<Product<Motherboard>> Motherboards = await Additional_Functions.Read_Motherboards_From_JSON(env);
                Motherboard = Motherboards.Find(x => x.Id == ProductID);
                Name = Motherboard.Name;
                Photo = Motherboard.Attributes.Photo;
                Price = Motherboard.Price;
                attributes = Additional_Functions.Convert_Attributes_To_Two_Dim_Array(Motherboard);
                path.Add(new string[] { "Płyty główne", "c/5" });
                path.Add(new string[] { "Płyty " + Motherboard.Attributes.Format, "c/5?format=" + Motherboard.Attributes.Format });
                path.Add(new string[] { Motherboard.Attributes.Socket, "c/5?format=" + Motherboard.Attributes.Format + "&socket=" + Motherboard.Attributes.Socket });
                break;
            case 6:
                List<Product<PowerSupply>> PowerSupplies = await Additional_Functions.Read_PowerSupplies_From_JSON(env);
                PowerSupply = PowerSupplies.Find(x => x.Id == ProductID);
                Name = PowerSupply.Name;
                Photo = PowerSupply.Attributes.Photo;
                Price = PowerSupply.Price;
                attributes = Additional_Functions.Convert_Attributes_To_Two_Dim_Array(PowerSupply);
                path.Add(new string[] { "Zasilacze", "c/6" });
                path.Add(new string[] { "Zasilacze " + PowerSupply.Attributes.Standard, "c/6?standard=" + PowerSupply.Attributes.Standard });
                path.Add(new string[] { PowerSupply.Attributes.Certificate, "c/6?standard=" + PowerSupply.Attributes.Standard + "&certificate=" + PowerSupply.Attributes.Certificate });
                break;
            case 7:
                List<Product<Radiator>> Radiators = await Additional_Functions.Read_Radiators_From_JSON(env);
                Radiator = Radiators.Find(x => x.Id == ProductID);
                Name = Radiator.Name;
                Photo = Radiator.Attributes.Photo;
                Price = Radiator.Price;
                attributes = Additional_Functions.Convert_Attributes_To_Two_Dim_Array(Radiator);
                path.Add(new string[] { "Radiatory", "c/7" });
                path.Add(new string[] { "Chłodzenie " + Radiator.Attributes.Cooling_type, "c/7?type=" + Radiator.Attributes.Cooling_type });
                break;
            case 8:
                List<Product<Ram>> Rams = await Additional_Functions.Read_Rams_From_JSON(env);
                Ram = Rams.Find(x => x.Id == ProductID);
                Name = Ram.Name;
                Photo = Ram.Attributes.Photo;
                Price = Ram.Price;
                attributes = Additional_Functions.Convert_Attributes_To_Two_Dim_Array(Ram);
                path.Add(new string[] { "Pamięci Ram", "c/8" });
                path.Add(new string[] { "Zasilacze " + Ram.Attributes.Memory_type, "c/8?type=" + Ram.Attributes.Memory_type });
                path.Add(new string[] { Ram.Attributes.Memory_size_full.ToString(), "c/8?type=" + Ram.Attributes.Memory_type + "&gb=" + Ram.Attributes.Memory_size_full });
                break;
            default:
                break;
        }
    }

    public void Refresh()
    {
        StateHasChanged();
    }

    private void Add_to_Cart()
    {
        if (Cart.items is null)
        {
            Cart.items = new List<Items>();
        }

        if (Cart.items.Any(x => x.name == this.Name))
        {
            int index = Cart.items.IndexOf(Cart.items.First(x => x.name == this.Name));

            if (Cart.items[index].amount + items >= 10)
            {
                Cart.items[index].amount = 10;
                Refresh_Component.topMenuComponent.Refresh();
            }
            else
            {
                Cart.items[index].amount = Cart.items[index].amount + items;
                Refresh_Component.topMenuComponent.Refresh();
            }
        }
        else
        {
            Cart.items.Add(new Items() { amount = items, id = this.ProductID, name = this.Name, photo = this.Photo[0], price = (decimal)this.Price });
            Refresh_Component.topMenuComponent.Refresh();
        }
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private Refresh_Component Refresh_Component { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private Cart Cart { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavigationManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IWebHostEnvironment env { get; set; }
    }
}
#pragma warning restore 1591
